<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>baroclinic channel</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="correlated tracers 2-d" href="correlated_tracers_2d.html" />
    <link rel="prev" title="Tasks" href="index.html" />
    <link href="../../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Polaris
          </a>
              <div class="version">
                0.2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User's guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quick_start.html">Quick Start for Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tasks.html">Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config_files.html">Config Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../suites.html">Suites</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Ocean component</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Tasks</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">baroclinic channel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mesh">mesh</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vertical-grid">vertical grid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#initial-conditions">initial conditions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#forcing">forcing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-step-and-run-duration">time step and run duration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#config-options">config options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default">default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decomp">decomp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thread">thread</a></li>
<li class="toctree-l4"><a class="reference internal" href="#restart">restart</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rpe">rpe</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="correlated_tracers_2d.html">correlated tracers 2-d</a></li>
<li class="toctree-l3"><a class="reference internal" href="cosine_bell.html">cosine bell</a></li>
<li class="toctree-l3"><a class="reference internal" href="geostrophic.html">geostrophic</a></li>
<li class="toctree-l3"><a class="reference internal" href="divergent_2d.html">divergent 2-d</a></li>
<li class="toctree-l3"><a class="reference internal" href="inertial_gravity_wave.html">inertial gravity wave</a></li>
<li class="toctree-l3"><a class="reference internal" href="manufactured_solution.html">manufactured solution</a></li>
<li class="toctree-l3"><a class="reference internal" href="nondivergent_2d.html">nondivergent 2-d</a></li>
<li class="toctree-l3"><a class="reference internal" href="rotation_2d.html">rotation 2-d</a></li>
<li class="toctree-l3"><a class="reference internal" href="single_column.html">single column</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../framework/index.html">Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../suites.html">Suites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../seaice/index.html">Sea ice component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../machines/index.html">Machines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/quick_start.html">Quick Start for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/command_line.html">Command-line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/organization/index.html">Organization of Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/ocean/index.html">Ocean component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/seaice/index.html">SeaIce component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/framework/index.html">Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/machines/index.html">Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/building_docs.html">Building the Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/deploying_spack.html">Deploying a new spack environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/api.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../design_docs/index.html">Design Documents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/dev_add_test_group.html">Developer Tutorial: Adding a new test group</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Polaris</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Ocean component</a></li>
          <li class="breadcrumb-item"><a href="index.html">Tasks</a></li>
      <li class="breadcrumb-item active">baroclinic channel</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/users_guide/ocean/tasks/baroclinic_channel.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="baroclinic-channel">
<span id="ocean-baroclinic-channel"></span><h1>baroclinic channel<a class="headerlink" href="#baroclinic-channel" title="Permalink to this heading"></a></h1>
<section id="description">
<h2>description<a class="headerlink" href="#description" title="Permalink to this heading"></a></h2>
<p>Baroclinic channel tasks implements variants of the Baroclinic Eddies test case
from <a class="reference external" href="https://doi.org/10.1016/j.ocemod.2011.10.003">Ilicak et al. (2012)</a>.</p>
<p>Polaris includes includes 5 baroclinic channel test cases.  All test cases have
at least 2 steps, <code class="docutils literal notranslate"><span class="pre">init</span></code>, which defines the mesh and initial conditions for the
model, and some variation on <code class="docutils literal notranslate"><span class="pre">forward</span></code> (given another name in many test cases
to distinguish multiple forward runs), which performs time integration of the
model.</p>
</section>
<section id="mesh">
<h2>mesh<a class="headerlink" href="#mesh" title="Permalink to this heading"></a></h2>
<p>The domain is zonally periodic with solid northern and southern boundaries.
The domain size is 160 km in the zonal dimension by 500 km in the meridional
dimension. These dimensions are set in the config file by <code class="docutils literal notranslate"><span class="pre">lx</span></code> and <code class="docutils literal notranslate"><span class="pre">ly</span></code>.
Variants of the test case are available at 1-km, 4-km and 10-km horizontal
resolution.</p>
</section>
<section id="vertical-grid">
<h2>vertical grid<a class="headerlink" href="#vertical-grid" title="Permalink to this heading"></a></h2>
<p>By default, all tests have 20 vertical layers of 50-m uniform thickness. The
domain bottom is flat.</p>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="c1"># Options related to the vertical grid</span>
<span class="k">[vertical_grid]</span>

<span class="c1"># the type of vertical grid</span>
<span class="na">grid_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">uniform</span>

<span class="c1"># Number of vertical levels</span>
<span class="na">vert_levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">20</span>

<span class="c1"># Depth of the bottom of the ocean</span>
<span class="na">bottom_depth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1000.0</span>

<span class="c1"># The type of vertical coordinate (e.g. z-level, z-star)</span>
<span class="na">coord_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">z-star</span>

<span class="c1"># Whether to use &quot;partial&quot; or &quot;full&quot;, or &quot;None&quot; to not alter the topography</span>
<span class="na">partial_cell_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">None</span>

<span class="c1"># The minimum fraction of a layer for partial cells</span>
<span class="na">min_pc_fraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.1</span>
</pre></div>
</div>
</section>
<section id="initial-conditions">
<h2>initial conditions<a class="headerlink" href="#initial-conditions" title="Permalink to this heading"></a></h2>
<p>Salinity is constant throughout the domain (at 35 PSU).  The initial
temperature is cooler in the southern half of the domain than in the north,
with a gradient between the two halves that is sinusoidally perturbed in the
meridional direction.</p>
<p>First the temperature in the depth dimension is defined:
<div class="math notranslate nohighlight">
\[\begin{split}
T_0(z) = T_b + (T_s - T_b)(z - z_b)/z_b\\
y_{perturb}(x) = \Delta y_{perturb} \sin(6 \pi x/l_x)\\
\end{split}\]</div>

where <span class="math notranslate nohighlight">\(y_{perturb}\)</span> corresponds to the config option <code class="docutils literal notranslate"><span class="pre">perturb_width</span></code>, <span class="math notranslate nohighlight">\(T_s\)</span> to
<code class="docutils literal notranslate"><span class="pre">surface_temperature</span> <span class="pre">and</span> </code><span class="math notranslate nohighlight">\(T_b\)</span> to <code class="docutils literal notranslate"><span class="pre">bottom_temperature</span></code>. The surface
temperature is warmer than at depth. <span class="math notranslate nohighlight">\(z_b\)</span> is the bottom depth.</p>
<p>A fraction is defined to scale the horizontal temperature perturbations, which
are uniform with depth:
<div class="math notranslate nohighlight">
\[\begin{split}
f(y) = \begin{cases}
    1 &amp;\text{ if } y &lt; y_{mid} - y_{perturb}\\
    1 - (y - (y_{mid} - y{perturb}))/\Delta y_{perturb} &amp;
    \text{ if } y \ge y_{mid} - y_{perturb}\\
    0 &amp; \text{otherwise}
\end{cases}
\end{split}\]</div>

where <span class="math notranslate nohighlight">\(\Delta y_{perturb}\)</span> corresponds to the perturbation width in the
y-dimension defined by <code class="docutils literal notranslate"><span class="pre">gradient_width_dist</span></code> or <code class="docutils literal notranslate"><span class="pre">gradient_width_fraction</span></code> *
<code class="docutils literal notranslate"><span class="pre">ly</span></code>. <span class="math notranslate nohighlight">\(y_{mid} = \frac{1}{2} l_y\)</span>.</p>
<p>The temperature field is constructed using this fraction of the
<code class="docutils literal notranslate"><span class="pre">temperature_difference</span></code>, <span class="math notranslate nohighlight">\(\Delta T\)</span>, and a fraction of <span class="math notranslate nohighlight">\(\Delta T_{crest}\)</span>,
hard-coded as 0.3, applied over a more limited x-extent.
<div class="math notranslate nohighlight">
\[\begin{split}
T_0(y) = \begin{cases}
    T_0(z) - \Delta T \: f(y) + \Delta T_{crest} \:
    (1-(y - (y_{mid} - y_{crest}(x))/\frac{1}{2} \Delta y_{perturb}) &amp;
    \text{ if } y_{min}(x) \le y \le y_{max}(x); 
    \frac{4}{6} l_x \le x \le \frac{5}{6} l_x \\
    T_0(z) - \Delta T \: f(y) &amp; \text{otherwise}
\end{cases}
\end{split}\]</div>

where
<div class="math notranslate nohighlight">
\[\begin{split}
y_{crest}(x) = ~ &amp; \frac{1}{2} \Delta y_{perturb}
               \sin\left[\pi (x - \frac{4}{6} l_x)/(\frac{1}{6} l_x)\right], \\
y_{min}(x) = ~ &amp; y_{mid} - y_{crest}(x) - \frac{1}{2}\Delta y_{perturb}, \\
y_{max}(x) = ~ &amp; y_{mid} - y_{crest}(x) + \frac{1}{2}\Delta y_{perturb}.
\end{split}\]</div>
</p>
<a class="reference internal image-reference" href="../../../_images/baroclinic_channel.png"><img alt="../../../_images/baroclinic_channel.png" class="align-center" src="../../../_images/baroclinic_channel.png" style="width: 500px;" /></a>
<p>The flow is initially stationary and the Coriolis parameter is uniform across
the domain and defined in the config file by <code class="docutils literal notranslate"><span class="pre">coriolis_parameter</span></code>.</p>
</section>
<section id="forcing">
<h2>forcing<a class="headerlink" href="#forcing" title="Permalink to this heading"></a></h2>
<p>N/A</p>
</section>
<section id="time-step-and-run-duration">
<h2>time step and run duration<a class="headerlink" href="#time-step-and-run-duration" title="Permalink to this heading"></a></h2>
<p>The time step is determined by the config options <code class="docutils literal notranslate"><span class="pre">dt_per_km</span></code> so that the time
step is proportional to the resolution. By default, a 10 km-resolution test
has a time step of 5 min. Run duration will be specified for each test case.
Run duration will be discussed for individual test cases.</p>
</section>
<section id="config-options">
<h2>config options<a class="headerlink" href="#config-options" title="Permalink to this heading"></a></h2>
<p>All 5 test cases share the same set of config options:</p>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="c1"># config options for baroclinic channel testcases</span>
<span class="k">[baroclinic_channel]</span>

<span class="c1"># the size of the domain in km in the x and y directions</span>
<span class="na">lx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">160.0</span>
<span class="na">ly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">500.0</span>

<span class="c1"># time step per resolution (s/km), since dt is proportional to resolution</span>
<span class="na">dt_per_km</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">30</span>

<span class="c1"># barotropic time step per resolution (s/km), since btr_dt is proportional to</span>
<span class="c1"># resolution</span>
<span class="na">btr_dt_per_km</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1.5</span>

<span class="c1"># Logical flag that determines if locations of features are defined by distance</span>
<span class="c1"># or fractions. False means fractions.</span>
<span class="na">use_distances</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">False</span>

<span class="c1"># Viscosity values to test for rpe test case</span>
<span class="na">viscosities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1, 5, 10, 20, 200</span>

<span class="c1"># Temperature of the surface in the northern half of the domain.</span>
<span class="na">surface_temperature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">13.1</span>

<span class="c1"># Temperature of the bottom in the northern half of the domain.</span>
<span class="na">bottom_temperature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">10.1</span>

<span class="c1"># Difference in the temperature field between the northern and southern halves</span>
<span class="c1"># of the domain.</span>
<span class="na">temperature_difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1.2</span>

<span class="c1"># Fraction of domain in Y direction the temperature gradient should be linear</span>
<span class="c1"># over. Used when use_distances = False.</span>
<span class="na">gradient_width_frac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.08</span>

<span class="c1"># Width of the temperature gradient around the center sin wave. Default value</span>
<span class="c1"># is relative to a 500km domain in Y. Used when use_distances = True.</span>
<span class="na">gradient_width_dist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">40e3</span>

<span class="c1"># Salinity of the water in the entire domain.</span>
<span class="na">salinity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">35.0</span>

<span class="c1"># Coriolis parameter for entire domain.</span>
<span class="na">coriolis_parameter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">-1.2e-4</span>
</pre></div>
</div>
<p>The default domain size (<code class="docutils literal notranslate"><span class="pre">lx</span></code> and <code class="docutils literal notranslate"><span class="pre">ly</span></code>) is designed to be consistent with the
literature, but can be modified by users to suit their needs.</p>
<p>The config options <code class="docutils literal notranslate"><span class="pre">dt_per_km</span></code> and <code class="docutils literal notranslate"><span class="pre">btr_dt_per_km</span></code> are used to determine a
time steps that is consistent with a given resolution.  Changing these config
options is likely to break the <code class="docutils literal notranslate"><span class="pre">restart</span></code>, since it assumes a time step of
5 minutes at 10 km, consistent with the default <code class="docutils literal notranslate"><span class="pre">dt_per_km</span></code>.  A user can
safely modify <code class="docutils literal notranslate"><span class="pre">dt_per_km</span></code> and <code class="docutils literal notranslate"><span class="pre">btr_dt_per_km</span></code> to control the time step for any
other baroclinic channel tests.</p>
<p>All units are mks, with temperature in degrees Celsius and salinity in PSU.</p>
</section>
<section id="default">
<h2>default<a class="headerlink" href="#default" title="Permalink to this heading"></a></h2>
<section id="id1">
<h3>description<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/default</span></code> is the default version of the
baroclinic eddies test case for a short (15 min) test run and validation of
prognostic variables for regression testing.</p>
</section>
<section id="id2">
<h3>mesh<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>. Currently, only 10-km horizontal
resolution is supported.</p>
</section>
<section id="id3">
<h3>vertical grid<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id4">
<h3>initial conditions<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id5">
<h3>forcing<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id6">
<h3>time step and run duration<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a> for time step. The run duration is 3 time
steps.</p>
</section>
<section id="id7">
<h3>config options<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="cores">
<h3>cores<a class="headerlink" href="#cores" title="Permalink to this heading"></a></h3>
<p>The number of processors is hard-coded to be 4 for this case.</p>
</section>
</section>
<section id="decomp">
<h2>decomp<a class="headerlink" href="#decomp" title="Permalink to this heading"></a></h2>
<section id="id8">
<h3>description<a class="headerlink" href="#id8" title="Permalink to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/decomp</span></code> runs a short (15 min) integration
of the model forward in time on 4 (<code class="docutils literal notranslate"><span class="pre">4proc</span></code> step) and then on 8 processors
(<code class="docutils literal notranslate"><span class="pre">8proc</span></code> step) to make sure the resulting prognostic variables are
bit-for-bit identical between the two runs.</p>
</section>
<section id="id9">
<h3>mesh<a class="headerlink" href="#id9" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>. Currently, only 10-km horizontal
resolution is supported.</p>
</section>
<section id="id10">
<h3>vertical grid<a class="headerlink" href="#id10" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id11">
<h3>initial conditions<a class="headerlink" href="#id11" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id12">
<h3>forcing<a class="headerlink" href="#id12" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id13">
<h3>time step and run duration<a class="headerlink" href="#id13" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a> for time step. The run duration is 3 time
steps.</p>
</section>
<section id="id14">
<h3>config options<a class="headerlink" href="#id14" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id15">
<h3>cores<a class="headerlink" href="#id15" title="Permalink to this heading"></a></h3>
<p>This test is run on 4 cores for the <code class="docutils literal notranslate"><span class="pre">4proc</span></code> step and 8 cores for the <code class="docutils literal notranslate"><span class="pre">8proc</span></code>
step.</p>
</section>
</section>
<section id="thread">
<h2>thread<a class="headerlink" href="#thread" title="Permalink to this heading"></a></h2>
<section id="id16">
<h3>description<a class="headerlink" href="#id16" title="Permalink to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/thread</span></code> runs a short (15 min) integration
of the model forward in time on 1 threads per processor (<code class="docutils literal notranslate"><span class="pre">1thread</span></code> step) and
then on 2 threads (<code class="docutils literal notranslate"><span class="pre">2thread</span></code> step) to make sure the resulting prognostic
variables are bit-for-bit identical between the two runs.</p>
</section>
<section id="id17">
<h3>mesh<a class="headerlink" href="#id17" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>. Currently, only 10-km horizontal
resolution is supported.</p>
</section>
<section id="id18">
<h3>vertical grid<a class="headerlink" href="#id18" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id19">
<h3>initial conditions<a class="headerlink" href="#id19" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id20">
<h3>forcing<a class="headerlink" href="#id20" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id21">
<h3>time step and run duration<a class="headerlink" href="#id21" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a> for time step. The run duration is 3 time
steps.</p>
</section>
<section id="id22">
<h3>config options<a class="headerlink" href="#id22" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id23">
<h3>cores<a class="headerlink" href="#id23" title="Permalink to this heading"></a></h3>
<p>The model steps are run on 4 cores. The <code class="docutils literal notranslate"><span class="pre">1thread</span></code> step is run on 1 thread
per processor and the <code class="docutils literal notranslate"><span class="pre">2thread</span></code> step is run on 2 threads per processor.</p>
</section>
</section>
<section id="restart">
<h2>restart<a class="headerlink" href="#restart" title="Permalink to this heading"></a></h2>
<section id="id24">
<h3>description<a class="headerlink" href="#id24" title="Permalink to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/restart</span></code> runs a short (10 min)
integration of the model forward in time (<code class="docutils literal notranslate"><span class="pre">full_run</span></code> step), saving a restart
file every 5 minutes.  Then, a second run (<code class="docutils literal notranslate"><span class="pre">restart_run</span></code> step) is performed
from the restart file 5 minutes into the simulation and prognostic variables
are compared between the “full” and “restart” runs at minute 10 to make sure
they are bit-for-bit identical.</p>
</section>
<section id="id25">
<h3>mesh<a class="headerlink" href="#id25" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>. Currently, only 10-km horizontal
resolution is supported.</p>
</section>
<section id="id26">
<h3>vertical grid<a class="headerlink" href="#id26" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id27">
<h3>initial conditions<a class="headerlink" href="#id27" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id28">
<h3>forcing<a class="headerlink" href="#id28" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id29">
<h3>time step and run duration<a class="headerlink" href="#id29" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a> for time step. The full run is two time
steps and the restart run is one time step long.</p>
</section>
<section id="id30">
<h3>config options<a class="headerlink" href="#id30" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id31">
<h3>cores<a class="headerlink" href="#id31" title="Permalink to this heading"></a></h3>
<p>The number of processors is hard-coded to be 4 for this case.</p>
</section>
</section>
<section id="rpe">
<h2>rpe<a class="headerlink" href="#rpe" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/1km/rpe</span></code>,
<code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/4km/rpe</span></code>, and
<code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/rpe</span></code> perform longer (20 day) integration
of the model forward in time at 5 different values of the viscosity (with steps
named <code class="docutils literal notranslate"><span class="pre">rpe_1_nu_1</span></code>, <code class="docutils literal notranslate"><span class="pre">rpe_2_nu_5</span></code>, etc.) at any of the 3 supported
horizontal resolutions (1, 4 and 10 km).  Results of these tests have been used
to show that MPAS-Ocean has lower spurious dissipation of reference potential
energy (RPE) than POP, MOM and MITgcm models
(<a class="reference external" href="https://doi.org/10.1016/j.ocemod.2014.12.004">Petersen et al. 2015</a>).</p>
<section id="id32">
<h3>mesh<a class="headerlink" href="#id32" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id33">
<h3>vertical grid<a class="headerlink" href="#id33" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id34">
<h3>initial conditions<a class="headerlink" href="#id34" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id35">
<h3>forcing<a class="headerlink" href="#id35" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>.</p>
</section>
<section id="id36">
<h3>time step and run duration<a class="headerlink" href="#id36" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a> for time step. Each run lasts 20 days.</p>
</section>
<section id="id37">
<h3>config options<a class="headerlink" href="#id37" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="#ocean-baroclinic-channel"><span class="std std-ref">baroclinic channel</span></a>. The config option that is specific to
this case is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Viscosity values to test for rpe test case</span>
<span class="n">viscosities</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">200</span>
</pre></div>
</div>
</section>
<section id="id38">
<h3>cores<a class="headerlink" href="#id38" title="Permalink to this heading"></a></h3>
<p>The number of cores is dynamically computed based on the number of cells. See
<a class="reference internal" href="../../../developers_guide/ocean/framework.html#dev-ocean-model"><span class="std std-ref">Model</span></a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Tasks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="correlated_tracers_2d.html" class="btn btn-neutral float-right" title="correlated tracers 2-d" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Energy Exascale Earth System Model Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: main
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Branches</dt>
      <dd><a href="baroclinic_channel.html">main</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>